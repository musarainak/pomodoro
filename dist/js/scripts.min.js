"use strict";function checkSettingInput(){var e=document.getElementById("customMinutes").value;selectedSound=document.querySelector(".alarm__item.selected");var t=new Audio("dist/sounds/"+selectedSound.getAttribute("data-alarm")+".mp3");if(console.log(selectedSound.getAttribute("data-alarm")),isNaN(e)||""==e)return alert("Erabili zenbakiak mesedez"),!1;document.querySelector(".reset").style.display="block",elSettings.disabled=!0,countTimers(e,t)}function resetAll(){reset=!0,pause=!0;document.getElementById("customMinutes").value;selectedSound=document.querySelector(".alarm__item.selected");var e=new Audio("dist/sounds/"+selectedSound.getAttribute("data-alarm")+".mp3");document.getElementById("timer").innerHTML=document.getElementById("customMinutes").value+":00",countTimers(document.getElementById("customMinutes").value,e),el.innerHTML="Hasi!"}function countTimers(e,t){var n=t,s=3,i=e-1,l=s,u=setInterval(function(){reset&&(clearInterval(u),reset=!1,pause=!0),pause||(--l<0?(l=s,i>0&&!reset?i--:(clearInterval(u),n.play(),el.innerHTML="Hasi!",notifyMe())):document.getElementById("timer").innerHTML=i.toString()+":"+(l<10?"0":"")+String(l))},1e3)}function notifyMe(){Push.create("Ieeeepa!!!",{body:"Hartu deskantsu txiki bat ;)",icon:"icon.png",timeout:8e3,vibrate:[100,100,100],onClick:function(){console.log(this)}})}var el=document.getElementById("pause"),elSettings=document.getElementById("settings"),elReset=document.getElementById("reset"),pause=!0,reset=!1,selectedSound=document.querySelector(".alarm__item.selected"),setMinutes=document.getElementById("minutes"),trySound=new Audio;document.addEventListener("click",function(e){if(e.target.classList.contains("alarm__item")){for(var t=document.querySelectorAll(".selected"),n=0;n<t.length;n++)t[n].classList.remove("selected");e.target.classList.add("selected")}},!1),elSettings.addEventListener("click",function(){checkSettingInput()}),elReset.addEventListener("click",function(){resetAll()}),el.addEventListener("click",function(){0==pause?(pause=!0,reset=!1,el.innerHTML="Segi!"):(pause=!1,reset=!1,el.innerHTML="Gelditu!",elReset.disabled=!1),el.classList.toggle("is-play")}),document.addEventListener("click",function(e){e.target.classList.contains("alarm__check")&&(trySound.pause(),(trySound=new Audio("dist/sounds/"+e.target.attributes["data-alarm"].value+".mp3")).play())},!1),Push.Permission.request();